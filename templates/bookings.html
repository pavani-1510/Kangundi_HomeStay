{% extends "base.html" %}

{% block title %}My Bookings - Kangundi{% endblock %}

{% block content %}
<div class="bookings-page">
    <h1>My Bookings</h1>
    {% if bookings %}
    <div class="booking-list">
        {% for booking in bookings %}
        <div class="booking-row">
            <div>
                <p class="label">Dates</p>
                <p class="value">{{ booking.from_date }} → {{ booking.till_date }} ({{ booking.nights }} nights)</p>
            </div>
            <div>
                <p class="label">Total</p>
                <p class="value">₹{{ booking.total_amount }}</p>
            </div>
            <div>
                <p class="label">Status</p>
                <p class="value status">{{ booking.status|capitalize }}</p>
            </div>
            <div>
                <p class="label">Payment Ref</p>
                <p class="value">{{ booking.payment_reference }}</p>
            </div>
            <div class="actions">
                <a class="btn" href="{{ url_for('receipt', booking_id=booking.id) }}">Receipt</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p>No bookings yet. <a href="{{ url_for('rooms') }}">Browse rooms</a></p>
    {% endif %}
</div>

<style>
.bookings-page { max-width: 900px; margin: 0 auto; padding: 2rem; }
.booking-list { display: flex; flex-direction: column; gap: 1rem; }
.booking-row { background: white; border-radius: 12px; padding: 1rem 1.5rem; box-shadow: 0 6px 18px rgba(217, 119, 6, 0.1); display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 0.75rem 1rem; align-items: center; }
.label { font-size: 0.85rem; color: #6b5e4c; margin: 0; }
.value { font-size: 1rem; font-weight: 700; color: #3d3527; margin: 0; }
.status { color: #059669; }
.actions { display: flex; gap: 0.5rem; }
.btn { padding: 0.6rem 1rem; border-radius: 8px; background: linear-gradient(135deg, #d97706 0%, #059669 100%); color: white; text-decoration: none; font-weight: 700; }
</style>
{% endblock %}
